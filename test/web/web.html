<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FlubSDK Browser Demo</title>
    <script type="application/javascript" src="http://localhost:9898/index.js"></script>
</head>
<body>
Open your console to see the results from FlubSDK!
</body> 
<script>
    window.addEventListener('DOMContentLoaded', async (event) => {
        const adminTokenResponse = await FlubSDK.HttpServices.getAsync('/get-admin-token')
        const { adminToken } = await adminTokenResponse.json()

        // FlubSDK is loaded
        // console.log('FlubSDK has been loaded from server.')
        // console.log(FlubSDK)

        // Start a new client
        const FlubClient = new FlubSDK.Client({
            baseUrl: 'http://127.0.0.1:8787',
            accessToken: adminToken
        })
        // console.log('FlubClient initialized with admin accessToken.')
        // console.log(FlubClient)


        // Login with user
        // const loginResponse = await FlubClient.AuthUser.login({
        //     email: 'wil@flub.pub',
        //     password: 'password123'
        // })
        // console.log('loginResponse', loginResponse)

        // Refresh user token
        // const refreshResponse = await FlubClient.AuthUser.refresh()
        // console.log('refreshResponse', refreshResponse)
    })
</script>
</html>
